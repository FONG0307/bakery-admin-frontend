{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../src/lib/auth.ts","../../../../src/context/AuthContext.tsx","../../../../src/context/ThemeContext.tsx","../../../../src/context/SidebarContext.tsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","const API_URL = \"http://localhost:3001/api\";\r\n\r\nexport async function signin(email: string, password: string) {\r\n  const res = await fetch(`${API_URL}/login`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ email, password }),\r\n  });\r\n\r\n  if (!res.ok) throw new Error(\"Login failed\");\r\n\r\n  const data = await res.json();\r\n  localStorage.setItem(\"token\", data.token);\r\n  return data.user;\r\n}\r\n\r\nexport async function getMe() {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (!token) throw new Error(\"No token\");\r\n\r\n  const res = await fetch(`${API_URL}/me`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n\r\n  if (!res.ok) throw new Error(\"Unauthorized\");\r\n  return res.json();\r\n}\r\n\r\nexport function signout() {\r\n  localStorage.removeItem(\"token\");\r\n}\r\n\r\nexport async function signup(email: string, password: string) {\r\n  const res = await fetch(`${API_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    credentials: \"include\",\r\n    body: JSON.stringify({\r\n      email,\r\n      password,\r\n      password_confirmation: password,\r\n    }),\r\n  });\r\n\r\n  if (!res.ok) {\r\n    const data = await res.json();\r\n    throw new Error(data.errors?.join(\", \") || \"Signup failed\");\r\n  }\r\n\r\n  return res.json();\r\n}\r\n","\"use client\";\r\n\r\nimport { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { getMe } from \"@/lib/auth\";\r\n\r\ntype User = {\r\n  id: number;\r\n  email: string;\r\n  role: string;\r\n  first_name?: string;\r\n  last_name?: string;\r\n};\r\n\r\ntype AuthContextType = {\r\n  user: User | null;\r\n  loading: boolean;\r\n  setUser: (u: User | null) => void;\r\n};\r\n\r\nconst AuthContext = createContext<AuthContextType | null>(null);\r\n\r\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    getMe()\r\n      .then(setUser)\r\n      .catch(() => setUser(null))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, loading, setUser }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  const ctx = useContext(AuthContext);\r\n  if (!ctx) throw new Error(\"useAuth must be used inside AuthProvider\");\r\n  return ctx;\r\n}\r\n","\"use client\";\r\n\r\nimport type React from \"react\";\r\nimport { createContext, useState, useContext, useEffect } from \"react\";\r\n\r\ntype Theme = \"light\" | \"dark\";\r\n\r\ntype ThemeContextType = {\r\n  theme: Theme;\r\n  toggleTheme: () => void;\r\n};\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\nexport const ThemeProvider: React.FC<{ children: React.ReactNode }> = ({\r\n  children,\r\n}) => {\r\n  const [theme, setTheme] = useState<Theme>(\"light\");\r\n  const [isInitialized, setIsInitialized] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // This code will only run on the client side\r\n    const savedTheme = localStorage.getItem(\"theme\") as Theme | null;\r\n    const initialTheme = savedTheme || \"light\"; // Default to light theme\r\n\r\n    setTheme(initialTheme);\r\n    setIsInitialized(true);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isInitialized) {\r\n      localStorage.setItem(\"theme\", theme);\r\n      if (theme === \"dark\") {\r\n        document.documentElement.classList.add(\"dark\");\r\n      } else {\r\n        document.documentElement.classList.remove(\"dark\");\r\n      }\r\n    }\r\n  }, [theme, isInitialized]);\r\n\r\n  const toggleTheme = () => {\r\n    setTheme((prevTheme) => (prevTheme === \"light\" ? \"dark\" : \"light\"));\r\n  };\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useTheme = () => {\r\n  const context = useContext(ThemeContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useTheme must be used within a ThemeProvider\");\r\n  }\r\n  return context;\r\n};\r\n","\"use client\";\r\nimport React, { createContext, useContext, useState, useEffect } from \"react\";\r\n\r\ntype SidebarContextType = {\r\n  isExpanded: boolean;\r\n  isMobileOpen: boolean;\r\n  isHovered: boolean;\r\n  activeItem: string | null;\r\n  openSubmenu: string | null;\r\n  toggleSidebar: () => void;\r\n  toggleMobileSidebar: () => void;\r\n  setIsHovered: (isHovered: boolean) => void;\r\n  setActiveItem: (item: string | null) => void;\r\n  toggleSubmenu: (item: string) => void;\r\n};\r\n\r\nconst SidebarContext = createContext<SidebarContextType | undefined>(undefined);\r\n\r\nexport const useSidebar = () => {\r\n  const context = useContext(SidebarContext);\r\n  if (!context) {\r\n    throw new Error(\"useSidebar must be used within a SidebarProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const SidebarProvider: React.FC<{ children: React.ReactNode }> = ({\r\n  children,\r\n}) => {\r\n  const [isExpanded, setIsExpanded] = useState(true);\r\n  const [isMobileOpen, setIsMobileOpen] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [activeItem, setActiveItem] = useState<string | null>(null);\r\n  const [openSubmenu, setOpenSubmenu] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      const mobile = window.innerWidth < 768;\r\n      setIsMobile(mobile);\r\n      if (!mobile) {\r\n        setIsMobileOpen(false);\r\n      }\r\n    };\r\n\r\n    handleResize();\r\n    window.addEventListener(\"resize\", handleResize);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  }, []);\r\n\r\n  const toggleSidebar = () => {\r\n    setIsExpanded((prev) => !prev);\r\n  };\r\n\r\n  const toggleMobileSidebar = () => {\r\n    setIsMobileOpen((prev) => !prev);\r\n  };\r\n\r\n  const toggleSubmenu = (item: string) => {\r\n    setOpenSubmenu((prev) => (prev === item ? null : item));\r\n  };\r\n\r\n  return (\r\n    <SidebarContext.Provider\r\n      value={{\r\n        isExpanded: isMobile ? false : isExpanded,\r\n        isMobileOpen,\r\n        isHovered,\r\n        activeItem,\r\n        openSubmenu,\r\n        toggleSidebar,\r\n        toggleMobileSidebar,\r\n        setIsHovered,\r\n        setActiveItem,\r\n        toggleSubmenu,\r\n      }}\r\n    >\r\n      {children}\r\n    </SidebarContext.Provider>\r\n  );\r\n};\r\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"0NA0BQG,EAAOC,OAAO,CAAGC,EAAQ,CAAA,CAAA,IAAA,iCC1BjCF,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRI,QAAQ,CAAC,YAAY,CAAEC,eAAe,+BCFxCP,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRI,QAAQ,CAAC,YAAY,CAAEE,KAAK,yBCF9B,IAAM,EAAU,4BAET,eAAe,EAAO,CAAa,CAAE,CAAgB,EAC1D,IAAM,EAAM,MAAM,MAAM,CAAA,EAAG,EAAQ,MAAM,CAAC,CAAE,CAC1C,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,OAAE,WAAO,CAAS,EACzC,GAEA,GAAI,CAAC,EAAI,EAAE,CAAE,MAAM,AAAI,MAAM,gBAE7B,IAAM,EAAO,MAAM,EAAI,IAAI,GAE3B,OADA,aAAa,OAAO,CAAC,QAAS,EAAK,KAAK,EACjC,EAAK,IAAI,AAClB,CAEO,eAAe,IACpB,IAAM,EAAQ,aAAa,OAAO,CAAC,SACnC,GAAI,CAAC,EAAO,MAAM,AAAI,MAAM,YAE5B,IAAM,EAAM,MAAM,MAAM,CAAA,EAAG,EAAQ,GAAG,CAAC,CAAE,CACvC,QAAS,CACP,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAClC,CACF,GAEA,GAAI,CAAC,EAAI,EAAE,CAAE,MAAM,AAAI,MAAM,gBAC7B,OAAO,EAAI,IAAI,EACjB,CAEO,SAAS,IACd,aAAa,UAAU,CAAC,QAC1B,CAEO,eAAe,EAAO,CAAa,CAAE,CAAgB,EAC1D,IAAM,EAAM,MAAM,MAAM,CAAA,EAAG,EAAQ,OAAO,CAAC,CAAE,CAC3C,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,YAAa,UACb,KAAM,KAAK,SAAS,CAAC,OACnB,WACA,EACA,sBAAuB,CACzB,EACF,GAEA,GAAI,CAAC,EAAI,EAAE,CAAE,CACX,IAAM,EAAO,MAAM,EAAI,IAAI,EAC3B,OAAM,AAAI,MAAM,EAAK,MAAM,EAAE,KAAK,OAAS,gBAC7C,CAEA,OAAO,EAAI,IAAI,EACjB,6GClDA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAgBA,IAAM,EAAc,CAAA,EAAA,EAAA,aAAA,AAAa,EAAyB,MAEnD,SAAS,EAAa,UAAE,CAAQ,CAAiC,EACtE,GAAM,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAsB,MACxC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GASvC,MAPA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,CAAA,EAAA,EAAA,KAAA,AAAK,IACF,IAAI,CAAC,GACL,KAAK,CAAC,IAAM,EAAQ,OACpB,OAAO,CAAC,IAAM,GAAW,GAC9B,EAAG,EAAE,EAGH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAY,QAAQ,CAAA,CAAC,MAAO,MAAE,UAAM,UAAS,CAAQ,WACnD,GAGP,CAEO,SAAS,IACd,IAAM,EAAM,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,GACvB,GAAI,CAAC,EAAK,MAAM,AAAI,MAAM,4CAC1B,OAAO,CACT,sFCxCA,EAAA,EAAA,CAAA,CAAA,OASA,IAAM,EAAe,CAAA,EAAA,EAAA,aAAA,AAAa,OAA+B,0BAEK,CAAC,UACrE,CAAQ,CACT,IACC,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAQ,SACpC,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,SAEnD,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAKR,EAHmB,AACE,OAEZ,MAHuB,OAAO,CAAC,UACL,SAGnC,AAH4C,GAG3B,EACnB,EAAG,EAAE,EAEL,CAAA,EAAA,EAAA,SAAA,AAAS,AAN8D,EAM7D,KACJ,IACF,WADiB,EACJ,OAAO,CAAC,QAAS,GAChB,QAAQ,CAAlB,EACF,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,QAEvC,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAGhD,EAAG,CAAC,EAAO,EAAc,EAOvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAa,QAAQ,CAAA,CAAC,MAAO,OAAE,EAAO,YALrB,KAClB,EAAS,AAAC,GAA6B,UAAd,EAAwB,OAAS,QAC5D,CAGqD,WAChD,GAGP,eAEwB,KACtB,IAAM,EAAU,CAAA,EAAA,EAAA,UAAU,AAAV,EAAW,GAC3B,QAAgB,IAAZ,EACF,KADyB,CACnB,AAAI,MAAM,gDAElB,OAAO,CACT,6CCxDA,EAAA,EAAA,CAAA,CAAA,OAeA,IAAM,EAAiB,CAAA,EAAA,EAAA,aAAA,AAAa,OAAiC,4BAUG,CAAC,UACvE,CAAQ,CACT,IACC,GAAM,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACvC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MACtD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,YAE9D,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAe,KACnB,IAAM,EAAS,OAAO,UAAU,CAAG,IACnC,EAAY,GACR,AAAC,GACH,GAAgB,EADL,AAGf,EAKA,OAHA,IACA,OAAO,gBAAgB,CAAC,SAAU,GAE3B,KACL,OAAO,mBAAmB,CAAC,SAAU,EACvC,CACF,EAAG,EAAE,EAeH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAe,QAAQ,CAAA,CACtB,MAAO,CACL,YAAY,GAAmB,EAC/B,MADuB,mBAEvB,aACA,cACA,EACA,cApBgB,KACpB,EAAc,AAAC,GAAS,CAAC,EAC3B,EAmBM,oBAjBsB,KAC1B,EAAgB,AAAC,GAAS,CAAC,EAC7B,eAgBM,gBACA,EACA,cAhBgB,AAAC,IACrB,EAAe,AAAC,GAAU,IAAS,EAAO,KAAO,EACnD,CAeI,WAEC,GAGP,iBAjE0B,KACxB,IAAM,EAAU,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,GAC3B,GAAI,CAAC,EACH,MAAM,AAAI,CADE,KACI,oDAElB,OAAO,CACT","ignoreList":[0,1,2]}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ndphong4/Documents/Learning-Ruby/test/Learn/bakery-webapp/bakery-admin-frontend/src/lib/api.ts"],"sourcesContent":["const API_URL = \"http://localhost:3001\";\n\nexport async function apiFetch(\n  path: string,\n  options: RequestInit = {}\n) {\n  const res = await fetch(`${API_URL}${path}`, {\n    credentials: \"include\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...options.headers,\n    },\n    ...options,\n  });\n\n  if (!res.ok) {\n    const err = await res.json().catch(() => ({}));\n    throw err;\n  }\n\n  return res.json();\n}\n"],"names":[],"mappings":";;;;AAAA,MAAM,UAAU;AAET,eAAe,SACpB,IAAY,EACZ,UAAuB,CAAC,CAAC;IAEzB,MAAM,MAAM,MAAM,MAAM,GAAG,UAAU,MAAM,EAAE;QAC3C,aAAa;QACb,SAAS;YACP,gBAAgB;YAChB,GAAG,QAAQ,OAAO;QACpB;QACA,GAAG,OAAO;IACZ;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,MAAM,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAC5C,MAAM;IACR;IAEA,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///home/ndphong4/Documents/Learning-Ruby/test/Learn/bakery-webapp/bakery-admin-frontend/src/lib/users.ts"],"sourcesContent":["import { apiFetch } from \"@/lib/api\";\n\nexport async function getUsers() {\n  const res = await fetch(\"/api/users\", {\n    credentials: \"include\",\n  });\n\n  if (!res.ok) {\n    throw new Error(\"Failed to fetch users\");\n  }\n\n  const data = await res.json();\n\n  // ✅ trả về đúng array\n  return data.users;\n}\n\nexport const createUser = (data: any) =>\n  apiFetch(\"/api/users\", {\n    method: \"POST\",\n    body: JSON.stringify({ user: data }),\n  });\n\nexport const updateUser = (id: number, data: any) =>\n  apiFetch(`/api/users/${id}`, {\n    method: \"PATCH\",\n    body: JSON.stringify({ user: data }),\n  });\n\nexport const deleteUser = (id: number) =>\n  apiFetch(`/api/users/${id}`, { method: \"DELETE\" });\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,MAAM,cAAc;QACpC,aAAa;IACf;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAE3B,sBAAsB;IACtB,OAAO,KAAK,KAAK;AACnB;AAEO,MAAM,aAAa,CAAC,OACzB,IAAA,6HAAQ,EAAC,cAAc;QACrB,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YAAE,MAAM;QAAK;IACpC;AAEK,MAAM,aAAa,CAAC,IAAY,OACrC,IAAA,6HAAQ,EAAC,CAAC,WAAW,EAAE,IAAI,EAAE;QAC3B,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YAAE,MAAM;QAAK;IACpC;AAEK,MAAM,aAAa,CAAC,KACzB,IAAA,6HAAQ,EAAC,CAAC,WAAW,EAAE,IAAI,EAAE;QAAE,QAAQ;IAAS"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///home/ndphong4/Documents/Learning-Ruby/test/Learn/bakery-webapp/bakery-admin-frontend/src/app/admin/%28others-pages%29/%28user%29/users/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { getUsers, deleteUser } from \"@/lib/users\";\n\nexport default function UsersPage() {\n  const [users, setUsers] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    getUsers()\n      .then((data) => {\n        setUsers(Array.isArray(data?.users) ? data.users : []);\n      })\n      .finally(() => setLoading(false));\n  }, []);\n  \n  \n\n  if (loading) return <p>Loading...</p>;\n\n  return (\n    <div className=\"bg-white dark:bg-gray-900 p-6 rounded-xl shadow\">\n      <h1 className=\"text-xl font-semibold mb-4\">User Management</h1>\n\n      <table className=\"w-full border\">\n        <thead>\n          <tr className=\"bg-gray-100 dark:bg-gray-800\">\n            <th className=\"p-2 text-left\">Email</th>\n            <th className=\"p-2 text-left\">Role</th>\n            <th className=\"p-2\">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {users.length === 0 && (\n            <tr>\n              <td colSpan={3} className=\"p-4 text-center\">\n                No users\n              </td>\n            </tr>\n          )}\n\n          {users.map((u) => (\n            <tr key={u.id} className=\"border-b\">\n              <td className=\"p-2\">{u.email}</td>\n              <td className=\"p-2\">{u.role}</td>\n              <td className=\"p-2 text-center\">\n                <button\n                  onClick={() =>\n                    deleteUser(u.id).then(() =>\n                      setUsers(users.filter((x) => x.id !== u.id))\n                    )\n                  }\n                  className=\"text-red-500 hover:underline\"\n                >\n                  Delete\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAC5C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,IAAA,+HAAQ,IACL,IAAI,CAAC,CAAC;YACL,SAAS,MAAM,OAAO,CAAC,MAAM,SAAS,KAAK,KAAK,GAAG,EAAE;QACvD,GACC,OAAO,CAAC,IAAM,WAAW;IAC9B,GAAG,EAAE;IAIL,IAAI,SAAS,qBAAO,8OAAC;kBAAE;;;;;;IAEvB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAE3C,8OAAC;gBAAM,WAAU;;kCACf,8OAAC;kCACC,cAAA,8OAAC;4BAAG,WAAU;;8CACZ,8OAAC;oCAAG,WAAU;8CAAgB;;;;;;8CAC9B,8OAAC;oCAAG,WAAU;8CAAgB;;;;;;8CAC9B,8OAAC;oCAAG,WAAU;8CAAM;;;;;;;;;;;;;;;;;kCAGxB,8OAAC;;4BACE,MAAM,MAAM,KAAK,mBAChB,8OAAC;0CACC,cAAA,8OAAC;oCAAG,SAAS;oCAAG,WAAU;8CAAkB;;;;;;;;;;;4BAM/C,MAAM,GAAG,CAAC,CAAC,kBACV,8OAAC;oCAAc,WAAU;;sDACvB,8OAAC;4CAAG,WAAU;sDAAO,EAAE,KAAK;;;;;;sDAC5B,8OAAC;4CAAG,WAAU;sDAAO,EAAE,IAAI;;;;;;sDAC3B,8OAAC;4CAAG,WAAU;sDACZ,cAAA,8OAAC;gDACC,SAAS,IACP,IAAA,iIAAU,EAAC,EAAE,EAAE,EAAE,IAAI,CAAC,IACpB,SAAS,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,EAAE,EAAE;gDAG9C,WAAU;0DACX;;;;;;;;;;;;mCAXI,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;;AAqBzB"}}]
}
{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../src/context/ToastContext.tsx","../../../../src/lib/auth.ts","../../../../src/context/AuthContext.tsx","../../../../src/context/ThemeContext.tsx","../../../../src/context/SidebarContext.tsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","\"use client\";\n\nimport {\n  createContext,\n  useContext,\n  useState,\n  ReactNode,\n} from \"react\";\n\ntype ToastType = \"success\" | \"error\";\n\ntype Toast = {\n  id: number;\n  message: string;\n  type: ToastType;\n};\n\ntype ToastContextType = {\n  showSuccess: (msg: string) => void;\n  showError: (msg: string) => void;\n};\n\nconst ToastContext = createContext<ToastContextType | null>(null);\n\nexport function ToastProvider({ children }: { children: ReactNode }) {\n  const [toasts, setToasts] = useState<Toast[]>([]);\n\n  function show(message: string, type: ToastType) {\n    const id = Date.now();\n    setToasts((prev) => [...prev, { id, message, type }]);\n\n    setTimeout(() => {\n      setToasts((prev) => prev.filter((t) => t.id !== id));\n    }, 3000);\n  }\n\n  return (\n    <ToastContext.Provider\n      value={{\n        showSuccess: (msg) => show(msg, \"success\"),\n        showError: (msg) => show(msg, \"error\"),\n      }}\n    >\n      {children}\n\n      {/* TOAST UI */}\n      <div className=\"fixed top-5 right-5 z-[9999] space-y-3\">\n        {toasts.map((toast) => (\n          <div\n            key={toast.id}\n            className={`rounded-lg px-4 py-3 text-sm shadow-lg text-white\n              ${\n                toast.type === \"success\"\n                  ? \"bg-green-600\"\n                  : \"bg-red-600\"\n              }`}\n          >\n            {toast.message}\n          </div>\n        ))}\n      </div>\n    </ToastContext.Provider>\n  );\n}\n\nexport function useToast() {\n  const ctx = useContext(ToastContext);\n  if (!ctx) throw new Error(\"useToast must be used inside ToastProvider\");\n  return ctx;\n}\n","const API_URL = \"http://localhost:3001/api\";\n\nexport async function signin(email: string, password: string) {\n  const res = await fetch(`${API_URL}/login`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ email, password }),\n  });\n\n  if (!res.ok) throw new Error(\"Login failed\");\n\n  const data = await res.json();\n  localStorage.setItem(\"token\", data.token);\n  return data.user;\n}\n\nexport async function getMe() {\n  const token = localStorage.getItem(\"token\");\n  if (!token) throw new Error(\"No token\");\n\n  const res = await fetch(`${API_URL}/me`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\n  if (!res.ok) throw new Error(\"Unauthorized\");\n  return res.json();\n}\n\nexport function signout() {\n  localStorage.removeItem(\"token\");\n}\n\nexport async function signup(email: string, password: string) {\n  const res = await fetch(`${API_URL}/signup`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    credentials: \"include\",\n    body: JSON.stringify({\n      email,\n      password,\n      password_confirmation: password,\n    }),\n  });\n\n  if (!res.ok) {\n    const data = await res.json();\n    throw new Error(data.errors?.join(\", \") || \"Signup failed\");\n  }\n\n  return res.json();\n}\n","\"use client\";\n\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport { getMe } from \"@/lib/auth\";\n\nexport type User = {\n  id: number;\n  email: string;\n  role: \"admin\" | \"staff\" | \"user\";\n\n  first_name?: string;\n  last_name?: string;\n\n  // Address / billing info\n  country?: string;\n  state?: string;\n  city?: string;\n  postal_code?: string;\n  tax_id?: string;\n  phone?: string;\n  bio?: string;\n};\n\n\ntype AuthContextType = {\n  user: User | null;\n  loading: boolean;\n  setUser: (u: User | null) => void;\n};\n\nconst AuthContext = createContext<AuthContextType | null>(null);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    getMe()\n      .then((res) => {\n        // ðŸ”¥ FIX QUYáº¾T Äá»ŠNH\n        setUser(res.user);\n      })\n      .catch(() => {\n        setUser(null);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ user, loading, setUser }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const ctx = useContext(AuthContext);\n  if (!ctx) {\n    throw new Error(\"useAuth must be used inside AuthProvider\");\n  }\n  return ctx;\n}\n","\"use client\";\n\nimport type React from \"react\";\nimport { createContext, useState, useContext, useEffect } from \"react\";\n\ntype Theme = \"light\" | \"dark\";\n\ntype ThemeContextType = {\n  theme: Theme;\n  toggleTheme: () => void;\n};\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nexport const ThemeProvider: React.FC<{ children: React.ReactNode }> = ({\n  children,\n}) => {\n  const [theme, setTheme] = useState<Theme>(\"light\");\n  const [isInitialized, setIsInitialized] = useState(false);\n\n  useEffect(() => {\n    // This code will only run on the client side\n    const savedTheme = localStorage.getItem(\"theme\") as Theme | null;\n    const initialTheme = savedTheme || \"light\"; // Default to light theme\n\n    setTheme(initialTheme);\n    setIsInitialized(true);\n  }, []);\n\n  useEffect(() => {\n    if (isInitialized) {\n      localStorage.setItem(\"theme\", theme);\n      if (theme === \"dark\") {\n        document.documentElement.classList.add(\"dark\");\n      } else {\n        document.documentElement.classList.remove(\"dark\");\n      }\n    }\n  }, [theme, isInitialized]);\n\n  const toggleTheme = () => {\n    setTheme((prevTheme) => (prevTheme === \"light\" ? \"dark\" : \"light\"));\n  };\n\n  return (\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n};\n\nexport const useTheme = () => {\n  const context = useContext(ThemeContext);\n  if (context === undefined) {\n    throw new Error(\"useTheme must be used within a ThemeProvider\");\n  }\n  return context;\n};\n","\"use client\";\nimport React, { createContext, useContext, useState, useEffect } from \"react\";\n\ntype SidebarContextType = {\n  isExpanded: boolean;\n  isMobileOpen: boolean;\n  isHovered: boolean;\n  activeItem: string | null;\n  openSubmenu: string | null;\n  toggleSidebar: () => void;\n  toggleMobileSidebar: () => void;\n  setIsHovered: (isHovered: boolean) => void;\n  setActiveItem: (item: string | null) => void;\n  toggleSubmenu: (item: string) => void;\n};\n\nconst SidebarContext = createContext<SidebarContextType | undefined>(undefined);\n\nexport const useSidebar = () => {\n  const context = useContext(SidebarContext);\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider\");\n  }\n  return context;\n};\n\nexport const SidebarProvider: React.FC<{ children: React.ReactNode }> = ({\n  children,\n}) => {\n  const [isExpanded, setIsExpanded] = useState(true);\n  const [isMobileOpen, setIsMobileOpen] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const [isHovered, setIsHovered] = useState(false);\n  const [activeItem, setActiveItem] = useState<string | null>(null);\n  const [openSubmenu, setOpenSubmenu] = useState<string | null>(null);\n\n  useEffect(() => {\n    const handleResize = () => {\n      const mobile = window.innerWidth < 768;\n      setIsMobile(mobile);\n      if (!mobile) {\n        setIsMobileOpen(false);\n      }\n    };\n\n    handleResize();\n    window.addEventListener(\"resize\", handleResize);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n\n  const toggleSidebar = () => {\n    setIsExpanded((prev) => !prev);\n  };\n\n  const toggleMobileSidebar = () => {\n    setIsMobileOpen((prev) => !prev);\n  };\n\n  const toggleSubmenu = (item: string) => {\n    setOpenSubmenu((prev) => (prev === item ? null : item));\n  };\n\n  return (\n    <SidebarContext.Provider\n      value={{\n        isExpanded: isMobile ? false : isExpanded,\n        isMobileOpen,\n        isHovered,\n        activeItem,\n        openSubmenu,\n        toggleSidebar,\n        toggleMobileSidebar,\n        setIsHovered,\n        setActiveItem,\n        toggleSubmenu,\n      }}\n    >\n      {children}\n    </SidebarContext.Provider>\n  );\n};\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"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","ignoreList":[0,1,2]}
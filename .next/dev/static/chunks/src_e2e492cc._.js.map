{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ndphong4/Documents/Learning-Ruby/test/Learn/bakery-webapp/bakery-admin-frontend/src/lib/users.ts"],"sourcesContent":["// lib/users.ts\nconst API_BASE = \"http://localhost:3001\";\n\nexport async function getUsers() {\n  const res = await fetch(`${API_BASE}/api/users`, {\n    credentials: \"include\",\n  });\n\n  if (!res.ok) {\n    throw new Error(\"Failed to fetch users\");\n  }\n\n  const data = await res.json();\n  return data.users;\n}\n\n\nexport async function deleteUser(id: number) {\n  const res = await fetch(`${API_BASE}/api/users/${id}`, {\n    method: \"DELETE\",\n    credentials: \"include\",\n  });\n\n  if (!res.ok) {\n    throw new Error(\"Failed to delete user\");\n  }\n}\nexport async function createUser(data: {\n  email: string;\n  password: string;\n  role: string;\n}) {\n  const res = await fetch(\"http://localhost:3001/api/users\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    credentials: \"include\",\n    body: JSON.stringify(data),\n  });\n\n  if (!res.ok) {\n    const result = await res.json();\n    throw new Error(result.errors?.join(\", \") || \"Create user failed\");\n  }\n\n  return res.json();\n}\n"],"names":[],"mappings":"AAAA,eAAe;;;;;;;;;AACf,MAAM,WAAW;AAEV,eAAe;IACpB,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,UAAU,CAAC,EAAE;QAC/C,aAAa;IACf;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,KAAK;AACnB;AAGO,eAAe,WAAW,EAAU;IACzC,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,WAAW,EAAE,IAAI,EAAE;QACrD,QAAQ;QACR,aAAa;IACf;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM;IAClB;AACF;AACO,eAAe,WAAW,IAIhC;IACC,MAAM,MAAM,MAAM,MAAM,mCAAmC;QACzD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,aAAa;QACb,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,SAAS,MAAM,IAAI,IAAI;QAC7B,MAAM,IAAI,MAAM,OAAO,MAAM,EAAE,KAAK,SAAS;IAC/C;IAEA,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///home/ndphong4/Documents/Learning-Ruby/test/Learn/bakery-webapp/bakery-admin-frontend/src/app/admin/%28others-pages%29/%28user%29/users/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { getUsers,deleteUser} from \"@/lib/users\";\nimport AddUserModal from \"@/components/admin/AddUserModel\";\n\nexport default function UsersPage() {\n  const [users, setUsers] = useState<any[]>([]);\n  const [openAdd, setOpenAdd] = useState(false);\n\n  useEffect(() => {\n    console.log(\"ðŸ”¥ USERS PAGE MOUNTED\");\n  \n    getUsers().then((data) => {\n      console.log(\"ðŸ”¥ USERS API DATA:\", data);\n      setUsers(Array.isArray(data) ? data : data?.users || []);\n    });\n  }, []);\n\n  return (\n    <div className=\"bg-white dark:bg-gray-900 p-6 rounded-xl shadow\">\n      <h1 className=\"text-xl font-semibold mb-4\">User Management</h1>\n      <button\n            onClick={() => setOpenAdd(true)}\n            className=\"rounded bg-green-600 px-4 py-2 text-white hover:bg-green-700\"\n        >\n            + Add User\n        </button>\n      <table className=\"w-full border\">\n        <thead>\n          <tr className=\"bg-gray-100 dark:bg-gray-800\">\n            <th className=\"p-2 text-left\">Email</th>\n            <th className=\"p-2 text-left\">Role</th>\n            <th className=\"p-2\">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {users.length === 0 && (\n            <tr>\n              <td colSpan={3} className=\"p-4 text-center\">\n                No users\n              </td>\n            </tr>\n          )}\n\n          {users.map((u) => (\n            <tr key={u.id} className=\"border-b\">\n              <td className=\"p-2\">{u.email}</td>\n              <td className=\"p-2\">{u.role}</td>\n              <td className=\"p-2 text-center\">\n                <button\n                  onClick={() =>\n                    deleteUser(u.id).then(() =>\n                      setUsers(users.filter((x) => x.id !== u.id))\n                    )\n                  }\n                  className=\"text-red-500 hover:underline\"\n                >\n                  Delete\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAMe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IAC5C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;+BAAC;YACR,QAAQ,GAAG,CAAC;YAEZ,IAAA,kIAAQ,IAAG,IAAI;uCAAC,CAAC;oBACf,QAAQ,GAAG,CAAC,sBAAsB;oBAClC,SAAS,MAAM,OAAO,CAAC,QAAQ,OAAO,MAAM,SAAS,EAAE;gBACzD;;QACF;8BAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,6LAAC;gBACK,SAAS,IAAM,WAAW;gBAC1B,WAAU;0BACb;;;;;;0BAGH,6LAAC;gBAAM,WAAU;;kCACf,6LAAC;kCACC,cAAA,6LAAC;4BAAG,WAAU;;8CACZ,6LAAC;oCAAG,WAAU;8CAAgB;;;;;;8CAC9B,6LAAC;oCAAG,WAAU;8CAAgB;;;;;;8CAC9B,6LAAC;oCAAG,WAAU;8CAAM;;;;;;;;;;;;;;;;;kCAGxB,6LAAC;;4BACE,MAAM,MAAM,KAAK,mBAChB,6LAAC;0CACC,cAAA,6LAAC;oCAAG,SAAS;oCAAG,WAAU;8CAAkB;;;;;;;;;;;4BAM/C,MAAM,GAAG,CAAC,CAAC,kBACV,6LAAC;oCAAc,WAAU;;sDACvB,6LAAC;4CAAG,WAAU;sDAAO,EAAE,KAAK;;;;;;sDAC5B,6LAAC;4CAAG,WAAU;sDAAO,EAAE,IAAI;;;;;;sDAC3B,6LAAC;4CAAG,WAAU;sDACZ,cAAA,6LAAC;gDACC,SAAS,IACP,IAAA,oIAAU,EAAC,EAAE,EAAE,EAAE,IAAI,CAAC,IACpB,SAAS,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,EAAE,EAAE;gDAG9C,WAAU;0DACX;;;;;;;;;;;;mCAXI,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;;AAqBzB;GA7DwB;KAAA"}}]
}